<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0b0b"/>
  <title>Final Exam • MBCC FinternetOps Training</title>
  <meta name="description" content="Scenario-based final exam for MBCC FinternetOps partner certification." />
  <link rel="canonical" href="https://finternetops.moecommunitycloud.com/training/exam.html" />
  <meta property="og:title" content="Final Exam • MBCC FinternetOps Training" />
  <meta property="og:description" content="Scenario-based final exam for MBCC FinternetOps partner certification." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://finternetops.moecommunitycloud.com/training/exam.html" />
  <meta property="og:image" content="https://finternetops.moecommunitycloud.com/assets/images/training-og.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="container">
      <div class="nav">
        <div class="brand">
          <span class="brandMark" aria-hidden="true"></span>
          <div>
            <div>FinternetOps Training</div>
            <small>MBCC Partner Enablement • Funnel → Certification</small>
          </div>
        </div>
        <nav class="navlinks" aria-label="Training navigation">
          <a href="index.html">Portal</a>
          <a href="tracks.html">Tracks</a>
          <a href="path.html">Path</a>
          <a href="modules/index.html">Modules</a>
          <a class="active" href="certification.html">Certification</a>
          <a href="../agents.html">Agents</a>
          <a href="../playbooks.html">Playbooks</a>
          <a href="../index.html">Home</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hrow">
        <div>
          <span class="pill red">Final Exam</span>
          <h1>Scenario Assessment</h1>
          <p class="sub">10 questions. Pass with <b>80%+</b>. When you pass, your badge page unlocks.</p>
          <div class="btnrow">
            <a class="btn ghost" href="certification.html">← Back to Certification</a>
            <a class="btn" href="path.html" data-requires-track>Back to Path</a>
            <a class="btn" href="modules/index.html" data-requires-track>Review Modules</a>
          </div>
        </div>

        <aside class="kpis">
          <h2 style="margin:0 0 10px">Eligibility</h2>
          <div class="k"><div class="l">Unlocked</div><div class="v" data-cert-lock>Locked</div></div>
          <div class="k"><div class="l">Track</div><div class="v" data-track-name>—</div></div>
          <div class="k"><div class="l">Last score</div><div class="v" id="lastScore">—</div></div>
        </aside>
      </div>
    </section>

    <section class="section">
      <div class="card" style="grid-column: span 12">
        <span class="pill">Exam</span>

        <!-- IMPORTANT: Submit button is inside the form (reliable in every browser) -->
        <form id="examForm" style="margin-top:12px; display:grid; gap:12px">
          <div id="examQuestions"></div>

          <div class="btnrow" style="margin-top:14px">
            <button class="btn primary" type="submit">Submit Exam</button>
            <a class="btn" href="badge.html" id="badgeLink">View Badge</a>
          </div>
        </form>

        <div id="result" style="margin-top:14px; display:none; border:1px solid rgba(212,175,55,.22); border-radius:16px; padding:12px 14px; background:rgba(0,0,0,.18)">
          <b>Result:</b> <span id="scoreText"></span>
          <div style="margin-top:6px; color:var(--muted)" id="resultHint"></div>
        </div>
      </div>
    </section>

    <div class="footer">
      © 2026 MBCC FinternetOps™ • Built as a clickable training funnel (no blades).<br/>
      <a href="../docs.html">Docs</a> • <a href="../index.html">Main site</a>
    </div>
  </main>

  <script src="assets/js/app.js"></script>

  <script>
    // Fallback: if app.js didn't load for any reason, define minimal MBCC so the exam still works.
    (function(){
      if(window.MBCC) return;

      const KEY = "mbcc_training_v2";
      const defaultState = {
        track: "", startedAt: "",
        modules: { m1:false, m2:false, m3:false, m4:false, m5:false, m6:false, m7:false, m8:false },
        quizzes: { m1:false, m2:false, m3:false, m4:false, m5:false, m6:false, m7:false, m8:false },
        capstone: false, examScore: null, certified: false
      };

      function load(){
        try{
          const raw = localStorage.getItem(KEY);
          if(!raw) return {...defaultState};
          const p = JSON.parse(raw);
          return {...defaultState, ...p,
            modules: {...defaultState.modules, ...(p.modules||{})},
            quizzes: {...defaultState.quizzes, ...(p.quizzes||{})}
          };
        }catch(e){ return {...defaultState}; }
      }
      function save(s){ try{ localStorage.setItem(KEY, JSON.stringify(s)); }catch(e){} }
      function allDone(s){
        const modsOk = Object.values(s.modules).every(Boolean);
        const quizOk = Object.values(s.quizzes).every(Boolean);
        return modsOk && quizOk && !!s.capstone;
      }
      function setExam(score){
        const s = load();
        s.examScore = score;
        s.certified = (score >= 80) && allDone(s);
        save(s);
        return s;
      }
      function percentComplete(s){
        const total = 17;
        let done = 0;
        done += Object.values(s.modules).filter(Boolean).length;
        done += Object.values(s.quizzes).filter(Boolean).length;
        if(s.capstone) done += 1;
        return Math.round((done/total)*100);
      }
      function prettyTrack(t){
        if(t==="operator") return "Operator";
        if(t==="consultant") return "Consultant";
        if(t==="sales") return "Sales/Partner";
        return "—";
      }

      window.MBCC = { load, save, allDone, setExam, percentComplete, prettyTrack };
    })();
  </script>

  <script>
    (function(){
      const exam = [
        {q:"A buyer asks: 'How do I know you run this safely?' Best response:", a:["Show only marketing","Provide controls + evidence packet outline + runbook","Hide logs"], c:1},
        {q:"What unlocks certification in this portal?", a:["Just clicking pages","Modules + quizzes + capstone + 80%+ exam","Only a SOW"], c:1},
        {q:"Change control primarily prevents:", a:["Documentation","Unapproved risky changes","Monitoring"], c:1},
        {q:"Acceptance criteria should be:", a:["Measurable and testable","Vague and flexible","Secret"], c:0},
        {q:"A key enterprise artifact is:", a:["A meme","Runbook + evidence checklist","A wallpaper"], c:1},
        {q:"Limits are important because they:", a:["Look nice","Control exposure and reduce operational risk","Replace audits"], c:1},
        {q:"Telemetry is used to:", a:["Hide incidents","Observe behavior and outcomes","Sell tokens"], c:1},
        {q:"A proof pack is best described as:", a:["A discount","A set of artifacts reducing buyer risk","A private key"], c:1},
        {q:"Segregation of duties helps:", a:["One person controls everything","Reduce fraud/errors","Avoid evidence"], c:1},
        {q:"If your exam score is 80%+ you should:", a:["Ignore the badge","Claim certification","Earn and show the badge and artifacts"], c:2}
      ];

      function render(){
        const s = MBCC.load();
        // header widgets
        const trackEls = document.querySelectorAll("[data-track-name]");
        trackEls.forEach(el=> el.textContent = MBCC.prettyTrack(s.track));

        const lockEls = document.querySelectorAll("[data-cert-lock]");
        const ready = MBCC.allDone(s);
        lockEls.forEach(el=>{
          el.textContent = ready ? "Unlocked" : "Locked (finish modules + quizzes + capstone)";
          el.classList.toggle("done", ready);
        });

        const last = document.getElementById("lastScore");
        if(last) last.textContent = (s.examScore==null) ? "—" : (s.examScore + "%");
      }

      function buildQuestions(){
        const wrap = document.getElementById("examQuestions");
        wrap.innerHTML = "";

        exam.forEach((qq, idx)=>{
          const block = document.createElement("div");
          block.className = "item";
          block.style.display = "block";

          const left = document.createElement("div");
          left.className = "left";
          left.innerHTML = "<b>" + (idx+1) + ". " + qq.q + "</b><br/><small>Pick one answer.</small>";

          const opts = document.createElement("div");
          opts.style.marginTop = "10px";
          opts.style.display = "grid";
          opts.style.gap = "8px";

          qq.a.forEach((ans, aidx)=>{
            const id = "e" + idx + "_" + aidx;
            const label = document.createElement("label");
            label.setAttribute("for", id);
            label.style.display = "flex";
            label.style.gap = "10px";
            label.style.alignItems = "flex-start";
            label.style.color = "var(--muted)";
            label.style.fontWeight = "800";
            label.style.cursor = "pointer";

            const input = document.createElement("input");
            input.type = "radio";
            input.name = "e" + idx;
            input.id = id;
            input.value = String(aidx);
            input.required = true;

            const span = document.createElement("span");
            span.textContent = ans;

            label.appendChild(input);
            label.appendChild(span);
            opts.appendChild(label);
          });

          block.appendChild(left);
          block.appendChild(opts);
          wrap.appendChild(block);
        });
      }

      document.addEventListener("DOMContentLoaded", function(){
        buildQuestions();
        render();

        const form = document.getElementById("examForm");
        const result = document.getElementById("result");
        const scoreText = document.getElementById("scoreText");
        const hint = document.getElementById("resultHint");

        form.addEventListener("submit", function(e){
          e.preventDefault();

          const s = MBCC.load();
          const ready = MBCC.allDone(s);
          result.style.display = "block";

          if(!ready){
            scoreText.textContent = "Locked";
            hint.textContent = "Finish all modules, quizzes, and the capstone before taking the exam.";
            return;
          }

          const fd = new FormData(form);
          let correct = 0;
          exam.forEach((qq, idx)=>{
            const val = fd.get("e"+idx);
            if(val !== null && parseInt(val,10) === qq.c) correct += 1;
          });
          const score = Math.round((correct / exam.length) * 100);
          MBCC.setExam(score);

          scoreText.textContent = score + "% (" + correct + "/" + exam.length + ")";
          hint.textContent = (score >= 80)
            ? "Passed. Your badge is now available (and saved)."
            : "Not passed. Review modules and retry.";

          render();
          // Scroll to result for visibility
          result.scrollIntoView({behavior:"smooth", block:"start"});
        });
      });
    })();
  </script>
</body>
</html>
